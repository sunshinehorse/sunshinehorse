(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56060dda"],{2423:function(e,t,r){"use strict";r.d(t,"s",function(){return a}),r.d(t,"a",function(){return n}),r.d(t,"y",function(){return s}),r.d(t,"r",function(){return o}),r.d(t,"n",function(){return d}),r.d(t,"u",function(){return i}),r.d(t,"x",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"o",function(){return m}),r.d(t,"l",function(){return f}),r.d(t,"z",function(){return h}),r.d(t,"c",function(){return p}),r.d(t,"i",function(){return b}),r.d(t,"t",function(){return g}),r.d(t,"h",function(){return v}),r.d(t,"p",function(){return k}),r.d(t,"m",function(){return y}),r.d(t,"d",function(){return O}),r.d(t,"A",function(){return _}),r.d(t,"e",function(){return j}),r.d(t,"B",function(){return I}),r.d(t,"f",function(){return w}),r.d(t,"v",function(){return x}),r.d(t,"w",function(){return T}),r.d(t,"q",function(){return A}),r.d(t,"g",function(){return Q}),r.d(t,"k",function(){return B}),r.d(t,"j",function(){return $});var l=r("b775");function a(e){return Object(l["a"])({url:"/article/pv",method:"get",params:{pv:e}})}function n(e){return Object(l["a"])({url:"/article/create",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/article/update",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/mgr/drugbrand/listMadeIns",method:"post",data:e})}function d(e){return Object(l["a"])({url:"/mgr/task/listInTasks",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/mgr/task/getTaskDetail",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/mgr/box/listByInTaskId",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/mgr/import/inTask",method:"post",data:e})}function m(e){return Object(l["a"])({url:"/mgr/task/listOutTasks",method:"post",data:e})}function f(e){return Object(l["a"])({url:"/mgr/box/listByOutTaskId",method:"post",data:e})}function h(e){return Object(l["a"])({url:"/mgr/task/updateOutTask",method:"post",data:e})}function p(e){return Object(l["a"])({url:"/mgr/task/createOutTask",method:"post",data:e})}function b(e){return Object(l["a"])({url:"/mgr/drugbrand/listAll",method:"post",data:e})}function g(e){return Object(l["a"])({url:"/mgr/seller/listAll",method:"post",data:e})}function v(e){return Object(l["a"])({url:"/mgr/dealer/listBySellerId",method:"post",data:e})}function k(e){return Object(l["a"])({url:"/mgr/task/listReturnTasks",method:"post",data:e})}function y(e){return Object(l["a"])({url:"/mgr/drug/listByReturnTaskId",method:"post",data:e})}function O(e){return Object(l["a"])({url:"/mgr/task/createReturnTask",method:"post",data:e})}function _(e){return Object(l["a"])({url:"/mgr/task/updateReturnTask",method:"post",data:e})}function j(e){return Object(l["a"])({url:"/mgr/user/create",method:"post",data:e})}function I(e){return Object(l["a"])({url:"/mgr/user/update",method:"post",data:e})}function w(e){return Object(l["a"])({url:"/mgr/user/delete",method:"post",data:e})}function x(e){return Object(l["a"])({url:"/mgr/user/listAll",method:"post",data:e})}function T(e){return Object(l["a"])({url:"/mgr/version/listAll",method:"post",data:e})}function A(e){return Object(l["a"])({url:"/mgr/log/listAll",method:"post",data:e})}function Q(e){return Object(l["a"])({url:"/mgr/boxrule/listAll",method:"post",data:e})}function B(e){return Object(l["a"])({url:"/mgr/role/listAll",method:"post",data:e})}function $(e){return Object(l["a"])({url:"/mgr/permission/listAll",method:"post",data:e})}},"655c":function(e,t,r){"use strict";var l=r("750d"),a=r.n(l);a.a},"750d":function(e,t,r){},ed40:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail_page"},[r("el-form",{ref:"form"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"货品名:","label-width":"120px"}},[e._v("\n          "+e._s(e.form.drugBrandName)+"\n          ")])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"数量:","label-width":"120px"}},[r("el-input",{staticStyle:{width:"120px",display:"inline-block"},attrs:{type:"number",placeholder:"请输入内容"},model:{value:e.form.taskQty,callback:function(t){e.$set(e.form,"taskQty",t)},expression:"form.taskQty"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"销售:","label-width":"120px"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.searchDealer(e.form.sellerId)}},model:{value:e.form.sellerId,callback:function(t){e.$set(e.form,"sellerId",t)},expression:"form.sellerId"}},e._l(e.seller,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[e.form.seller?r("el-form-item",{attrs:{label:"销售电话:","label-width":"120px"}},[e._v(e._s(e.form.seller.phone))]):e._e()],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"经销商:","label-width":"120px"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.getDealer(e.form.dealerId)}},model:{value:e.form.dealerId,callback:function(t){e.$set(e.form,"dealerId",t)},expression:"form.dealerId"}},e._l(e.dealer,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[e.form.dealer?r("el-form-item",{attrs:{label:"经销商电话:","label-width":"120px"}},[e._v(e._s(e.form.dealer.phone))]):e._e()],1),e._v(" "),r("el-col",{attrs:{span:8}},[e.form.dealer?r("el-form-item",{attrs:{label:"经销商地址:","label-width":"120px"}},[e._v(e._s(e.form.dealer.address))]):e._e()],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[e.user?r("el-form-item",{attrs:{label:"操作员:","label-width":"120px"}},[e._v("\n          "+e._s(e.user)+"\n        ")]):r("el-form-item",{attrs:{label:"操作员:","label-width":"120px"}},[e._v("\n          暂无\n        ")])],1),e._v(" "),10==e.status?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"有无异常:","label-width":"120px"}},[e._v("\n          无\n        ")])],1):e._e(),e._v(" "),20==e.status?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"有无异常:","label-width":"120px"}},[e._v("\n          有\n        ")])],1):e._e(),e._v(" "),30==e.status?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"有无异常:","label-width":"120px"}},[e._v("\n          有\n        ")])],1):e._e()],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:" 列表:","label-width":"120px"}},[e._v("\n          累计 "+e._s(e.form.finishedQty)+"/"+e._s(e.form.taskQty)+" 盒\n        ")])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"退还原因:","label-width":"120px"}},[r("el-input",{staticStyle:{width:"100%",display:"inline-block"},attrs:{type:"text",placeholder:"请输入退还原因"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{type:"info"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateTask()}}},[e._v("创建")])],1)],1)],1)],1)},a=[],n=(r("7f7f"),r("bd86")),s=r("2423"),o={data:function(){var e;return e={id:null,batch:null,status:null,type:null,name:null,orgin:null,user:null,record:null,sellerPhone:null,sellerName:null,dealerName:null,dealerPhone:null,dealerAddress:null},Object(n["a"])(e,"record",null),Object(n["a"])(e,"tableData",[]),Object(n["a"])(e,"form",{remark:void 0,drugBrandName:void 0,type:void 0,drugBrandId:void 0,finishedQty:void 0,taskQty:void 0,seller:void 0,sellerId:void 0,dealer:void 0,dealerId:void 0}),Object(n["a"])(e,"drugbrand",[]),Object(n["a"])(e,"seller",[]),Object(n["a"])(e,"dealer",[]),Object(n["a"])(e,"num",null),Object(n["a"])(e,"importanceOptions",[{key:"SALE_OUT",display_name:"销售出库"},{key:"SAMPLE_OUT",display_name:"样品出库"},{key:"EXCHANGE_OUT",display_name:"换货出库"}]),e},created:function(){this.id=this.$route.query.id,this.getDetail()},methods:{getDetail:function(){var e=this;Object(s["u"])({taskId:this.id}).then(function(t){console.log(t),200==t.status&&(e.user=t.entity.appuserRealName,e.status=t.entity.status,e.form.remark=t.entity.remark,e.form.drugBrandName=t.entity.drugBrandName,e.form.taskQty=t.entity.taskQty,e.form.finishedQty=t.entity.finishedQty,e.form.type=t.entity.type,e.form.sellerId=t.entity.sellerId,e.form.dealerId=t.entity.dealerId)}),Object(s["m"])({returnTaskId:this.id}).then(function(e){200==e.status&&console.log(e)}),Object(s["i"])().then(function(t){200==t.status&&(e.drugbrand=t.entity)}),Object(s["t"])().then(function(t){if(200==t.status){e.seller=t.entity;for(var r=0;r<e.seller.length;r++)e.form.sellerId==e.seller[r].id&&(e.form.seller={phone:e.seller[r].phone,id:e.seller[r].id,name:e.seller[r].name});Object(s["h"])({sellerId:e.form.sellerId}).then(function(t){if(console.log(t),200==t.status){e.dealer=t.entity;for(var r=0;r<e.dealer.length;r++)e.form.dealerId==e.dealer[r].id&&(e.form.dealer={phone:e.dealer[r].phone,id:e.dealer[r].id,name:e.dealer[r].name,address:e.dealer[r].address})}})}})},searchDealer:function(e){var t=this;if(e){for(var r=0;r<this.seller.length;r++)e==this.seller[r].id&&(this.form.seller={phone:this.seller[r].phone,id:this.seller[r].id,name:this.seller[r].name});console.log(this.form.dealer),Object(s["h"])({sellerId:e}).then(function(e){console.log(e),200==e.status&&(t.dealer=e.entity,t.form.dealerId="",t.form.dealer=void 0)})}else this.dealer=[],this.form.dealerId="",this.form.sellerId="",this.form.dealer=void 0,this.form.seller=void 0},getDealer:function(e){if(e)for(var t=0;t<this.dealer.length;t++)e==this.dealer[t].id&&(this.form.dealer={phone:this.dealer[t].phone,id:this.dealer[t].id,name:this.dealer[t].name,address:this.dealer[t].address});else this.form.dealer=void 0},updateTask:function(){var e=this;console.log(this.form.seller),Object(s["A"])({taskId:this.id,remark:this.form.remark,drugBrandId:this.form.drugBrandId,taskQty:this.form.taskQty,sellerId:this.form.seller.id,dealerId:this.form.dealer.id}).then(function(t){console.log(t),200==t.status&&e.$message({message:"更新成功！",type:"success",onClose:e.$router.push({path:"/stock-table/goods-table"})})})},cancel:function(){this.$router.back(-1)}}},d=o,i=(r("655c"),r("2877")),u=Object(i["a"])(d,l,a,!1,null,null,null);t["default"]=u.exports}}]);