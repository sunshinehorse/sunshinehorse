<!DOCTYPE html>
<html>
	<head>
		<title>公益平台</title>
		<meta charset="UTF-8">
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="renderer" content="webkit">
		<meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1" />
		<script src="js/resize.js"></script>
		<link type="text/css" rel="stylesheet" href="css/animate.css" />
		<link rel="stylesheet" href="css/style.css">
	</head>
	<body>
		<div class="faburenwu">
			<div class="bdbt">
				积分商品类型*
			</div>
			<input type="text" placeholder="请选择商品类型"  id="trigger1">
			<div class="bdbt">
				标题*
			</div>
			<input type="text" placeholder="请输入商品标题">
			<div class="bdbt">
				图片*
			</div>
			<div class="djsc">
				<img src="images/gongao.png" alt="" title="">
				<div class="file">
					<input type="file" class="">
					上传图片
				</div>
				<div class="scimg">
					<img src="images/" alt="" title="">
					<div class="wenzi">
						图片缩略图
					</div>
					<!-- <div class="guanbi">
						x
					</div> -->
				</div>
			</div>
			<div class="bdbt">
				积分(单)*
			</div>
			<input type="text" placeholder="请输入商品兑换积分">
			<div class="bdbt">
				数量*
			</div>
			<input type="text" placeholder="请输入商品数量">
			<div class="bdbt">
				领取地址*
			</div>
			<input type="text" placeholder="请填写商品领取地址">
			<div class="bdbt">
				内容*
			</div>
			<textarea name="" id="" placeholder="请填写商品内容"></textarea>
			<button>
			<a href="#">提交</a>
			</button>
		</div>
		<div id="aaa"></div>
		<script src="js/jquery-2.1.3.min.js"></script>
		<script src="js/mobileSelect.js"></script>
		<script>
			$(function(){
				$(".djsc").on('change', 'input[type="file"]', function() {
					$('.djsc .scimg').css({
						zIndex: '10'
					});
					$(".djsc .scimg .guanbi").css({
						display: 'block'
					});
					$(".djsc .scimg").on('click', '.guanbi', function() {
						$(".scimg img").attr("src","");
						$(".scimg img").attr("value","");
						$(this).css({
							display: 'none'
						});
						$('.djsc .scimg').css({
						zIndex: '0'
					});
				});
					var file = this.files[0];
					if (window.FileReader) {
					var reader = new FileReader();
					reader.readAsDataURL(file);
					//监听文件读取结束后事件
					reader.onloadend = function (e) {
					$(".scimg img").attr("src",e.target.result);    //e.target.result就是最后的路径地址
					$(".scimg img").attr("value",e.target.result);    //e.target.result就是最后的路径地址
					};
				}
				});
			})
		</script>
		<script type="text/javascript">


var weekdayArr=['商品类型','商品类型','商品类型','商品类型','商品类型','商品类型','商品类型'];
//----------------------------------------------------------
//更多参数详情可查看文档 https://github.com/onlyhom/mobileSelect.js

/**
 * 参数说明
 * @param trigger(必填参数) 触发对象的id/class/tag
 * @param wheels(必填参数)  数据源,需要显示的数据
 * @param title 控件标题
 * @param position 初始化定位
 * @param callback 选择成功后触发的回调函数，返回indexArr(选中的选项索引)、data(选中的数据)
 * @param transitionEnd 每一次手势滑动结束后触发的回调函数,返回indexArr(当前选中的选项索引)、data(选中的数据)
 * @param keyMap 字段名映射
 */

/**
 * 函数说明(实例化之后才可用)
 * @function setTitle()      参数 string                 设置控件的标题
 * @function updateWheel()   参数 sliderIndex, data      重新渲染指定的轮子(可用于先实例化，后通过ajax获取数据的场景)
 * @function updateWheels()  参数 data                   重新渲染所有轮子,仅限级联数据格式使用(可用于先实例化，后通过ajax获取数据的场景)
 * @function locatePostion() 参数 sliderIndex, posIndex  传入位置数组，重定位轮子的位置
 * @function show()          参数 无参                   唤起弹窗组件    
 * @function getValue()      参数 无参                   获取组件选择的值     
 */
 


var mobileSelect1 = new MobileSelect({
    trigger: '#trigger1', 
    title: '请选择商品类型',  
    wheels: [
                {data: weekdayArr}
            ],
    position:[2], //初始化定位 打开时默认选中的哪个 如果不填默认为0
    transitionEnd:function(indexArr, data){
        // console.log(data);
    },
    callback:function(indexArr, data){
        // console.log(data);
        $("#trigger1").val(data);
    }
});
</script>
	</body>
</html>